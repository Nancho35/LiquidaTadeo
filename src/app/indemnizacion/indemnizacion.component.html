<div class="header">
    <a [routerLink]="['/']"><img src="assets/top.png" width="1014px" /></a>
</div>
<mat-card class="carta">

    <div class="container">
        <div *ngIf="!submitted" class="flex-container">
            <div>
                <div class="left">

                    <form [formGroup]="baseForm" (ngSubmit)="onSubmit(baseForm)">


                        <div class="form-group">
                            <h4 for="indemniza_art65" class="display-5">Indemnización por no pago Articulo 65</h4>
                            <span tooltip="Valor moratorio que debe el empleador a hoy dada la fecha fin del contrato"
                                placement="right" show-delay="100"><img src="assets/descripcion.png" /></span>
                            <input type="numeric" class="form-control" formControlName="indemniza_art65" />
                            <label for="check65">Calcular</label><input type="checkbox" class='checkbox'
                                formControlName="check65" />
                        </div>

                        <div class="form-group">

                            <div class="form-group" *ngIf="show_check">
                                <label for="ver_pro">Verificar Prorrogas</label> <input type="checkbox"
                                    formControlName="ver_pro" (change)="VerProrroga($event)" />
                            </div>
                        </div>
                        <div *ngIf="show">
                            <div class="form-group">
                                <h4 for="indemniza_art65" class="display-5">Indemnización despido sin justa causa
                                    Articulo
                                    65</h4>
                                <div class="input-group">
                                    <label>Fecha inicio pactada</label>
                                    <input formControlName="fecha_ini_pactada" placeholder="AAAA-MM-DD"
                                        name="fecha_ini_pactada" ngbDatepicker #fecha_ini_pactada="ngbDatepicker"
                                        [markDisabled]="markDisabled">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                            (click)="fecha_ini_pactada.toggle()" type="button"></button>
                                    </div>
                                </div>
                                <div class="input-group">
                                    <label>Fecha fin pactada</label>
                                    <span tooltip="Ingrese la fecha fin pactada con el empleador" placement="right"
                                        show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                    <input formControlName="fecha_fin_pactada" placeholder="AAAA-MM-DD"
                                        name="fecha_fin_pactada" ngbDatepicker #fecha_fin_pactada="ngbDatepicker"
                                        [markDisabled]="markDisabled">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                            (click)="fecha_fin_pactada.toggle()" type="button"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="num_pro">Número de prorrogas</label>
                                <span tooltip="Ingrese el número prorrogas maximo 4" placement="right"
                                    show-delay="100"><img src="assets/descripcion.png" /></span>
                                <input type="numeric" class="form-control" formControlName="num_pro"
                                    (change)="pintarProrrogas($event)" />
                            </div>


                        </div>
                        <div *ngIf="pro1">
                            <div class="form-group">
                                <div>
                                    <div class="input-group">
                                        <label>Fecha inicio prorroga 1</label>
                                        <span tooltip="Ingrese la fecha inicio de la prorroga 1" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_ini_pro1" placeholder="AAAA-MM-DD"
                                            name="fecha_ini_pro1" ngbDatepicker #fecha_ini_pro1="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_ini_pro1.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label>Fecha fin prorroga 1</label>
                                        <span tooltip="Ingrese la fecha fin de la prorroga 1" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_fin_pro1" placeholder="AAAA-MM-DD"
                                            name="fecha_fin_pro1" ngbDatepicker #fecha_fin_pro1="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_fin_pro1.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div *ngIf="pro2">
                            <div class="form-group">
                                <div>
                                    <div class="input-group">
                                        <label>Fecha inicio prorroga 2</label>
                                        <span tooltip="Ingrese la fecha inicio de la prorroga 2" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_ini_pro2" placeholder="AAAA-MM-DD"
                                            name="fecha_ini_pro2" ngbDatepicker #fecha_ini_pro2="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_ini_pro2.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label>Fecha fin prorroga 2</label>
                                        <span tooltip="Ingrese la fecha fin de la prorroga 2" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_fin_pro2" placeholder="AAAA-MM-DD"
                                            name="fecha_fin_pro2" ngbDatepicker #fecha_fin_pro2="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_fin_pro2.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div *ngIf="pro3">
                            <div class="form-group">
                                <div>
                                    <div class="input-group">
                                        <label>Fecha inicio prorroga 3</label>
                                        <span tooltip="Ingrese la fecha inicio de la prorroga 3" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_ini_pro3" placeholder="AAAA-MM-DD"
                                            name="fecha_ini_pro3" ngbDatepicker #fecha_ini_pro3="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_ini_pro3.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label>Fecha fin prorroga 3</label>
                                        <span tooltip="Ingrese la fecha fin de la prorroga 3" placement="right"
                                            show-delay="100"><img src="assets/descripcion.png" /></span><br>
                                        <input formControlName="fecha_fin_pro3" placeholder="AAAA-MM-DD"
                                            name="fecha_fin_pro3" ngbDatepicker #fecha_fin_pro3="ngbDatepicker"
                                            [markDisabled]="markDisabled" (ngModelChange)="calcularProrrogaFinal()">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_fin_pro3.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div *ngIf="pro4">
                            <div class="form-group">
                                <div>
                                    <div class="input-group">
                                        <label>Fecha inicio prorroga 4</label>
                                        <input formControlName="fecha_ini_pro4" placeholder="AAAA-MM-DD"
                                            name="fecha_ini_pro4" ngbDatepicker #fecha_ini_pro4="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_ini_pro4.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <label>Fecha fin prorroga 4</label>
                                        <input formControlName="fecha_fin_pro4" placeholder="AAAA-MM-DD"
                                            name="fecha_fin_pro4" ngbDatepicker #fecha_fin_pro4="ngbDatepicker"
                                            [markDisabled]="markDisabled">
                                        <div class="input-group-append">
                                            <button class="btn btn-outline-secondary calendar fa fa-calendar"
                                                (click)="fecha_fin_pro4.toggle()" type="button"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <button type="submit" class="btn btn-primary" [disabled]="!baseForm.valid">Siguiente</button>
                    </form>
                </div>

                <div class="right">

                    <img src="assets/Tips2.png">
                    <br>
                    <div *ngIf="mensaje">
                        <p><mark><b class="lead">Recuerde:</b></mark>La cuarta(4) prorroga  esta deshabilitada dado que si supera
                            mas de 3 prorrogas,la siguiente no podra ser inferior a un año</p>
                    </div>
                    <br>
                </div>

            </div>

        </div>
    </div>
</mat-card>